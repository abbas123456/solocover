{% extends "base.html" %}
{% block title %} Profile {% endblock %}
{% block primary %}
    <div class="row-fluid">
    <h2>Profile details</h2>
    <form id="register_form" method="post" action="." class="form-horizontal form_div" enctype="multipart/form-data">
    <div class="span4 span4_tight">
        {% csrf_token %}
        <fieldset>
        {% if form.username.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_username">Username</label>
           <div class="controls">
               {{ form.username }}
               <span class="help-inline">{{ form.username.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_username">Username</label>
           <div class="controls">
               {{ form.username }}
           </div>
       </div>
    {% endif %}
    {% if form.email.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_email">Email</label>
           <div class="controls">
               {{ form.email }}
               <span class="help-inline">{{ form.email.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_email">Email</label>
           <div class="controls">
               {{ form.email }}
           </div>
       </div>
    {% endif %}
    {% if form.non_field_errors %}
        <div class="control-group error">
           <label class="control-label" for="id_current_password">Current password</label>
           <div class="controls">
               {{ form.current_password }}
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_current_password">Current password</label>
           <div class="controls">
               {{ form.current_password }}
           </div>
       </div>
    {% endif %}
    {% if form.non_field_errors %}
        <div class="control-group error">
           <label class="control-label" for="id_new_password">New password</label>
           <div class="controls">
               {{ form.new_password }}
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_new_password">New password</label>
           <div class="controls">
               {{ form.new_password }}
           </div>
       </div>
    {% endif %}
    {% if form.non_field_errors %}
        <div class="control-group error">
           <label class="control-label" for="id_new_password_confirm">Confirm new password</label>
           <div class="controls">
               {{ form.new_password_confirm }}
               <span class="help-block">{{ form.non_field_errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_new_password_confirm">Confirm new password</label>
           <div class="controls">
               {{ form.new_password_confirm }}
           </div>
       </div>
    {% endif %}
    <div class="control-group">
        <div class="controls">
            <input type="submit" class="btn btn-primary" value="Save" />
            <a class="btn btn-inverse" href="{% url songthread_list %}">Cancel</a>
        </div>
    </div>
    </fieldset>
    </div>
    <div class="span4 span4_tight">
    <fieldset>
    {% if user_profile_form.location.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_location">Location</label>
           <div class="controls">
               {{ user_profile_form.location }}
               <span class="help-inline">{{ user_profile_form.location.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_location">Location</label>
           <div class="controls">
               {{ user_profile_form.location }}
           </div>
       </div>
    {% endif %}    
    {% if user_profile_form.likes.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_likes">Likes</label>
           <div class="controls">
               {{ user_profile_form.likes }}
               <span class="help-inline">{{ user_profile_form.likes.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_likes">Likes</label>
           <div class="controls">
               {{ user_profile_form.likes }}
           </div>
       </div>
    {% endif %}
    {% if user_profile_form.dislikes.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_dislikes">Dislikes</label>
           <div class="controls">
               {{ user_profile_form.dislikes }}
               <span class="help-inline">{{ user_profile_form.dislikes.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_dislikes">Dislikes</label>
           <div class="controls">
               {{ user_profile_form.dislikes }}
           </div>
       </div>
    {% endif %}
    {% if user_profile_form.profile_image.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_profile_image">Profile image</label>
           <div class="controls">
               {{ user_profile_form.profile_image }}
               <span class="help-inline">{{ user_profile_form.profile_image.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_profile_image">Profile image</label>
           <div class="controls">
               {{ user_profile_form.profile_image }}
           </div>
       </div>
    {% endif %}
    </fieldset>
    </div>
    <div class="span4 span4_tight">
    <fieldset>
    {% if user_profile_form.about_me.errors %}
       <div class="control-group error">
           <label class="control-label" for="id_about_me">About me</label>
           <div class="controls">
               {{ user_profile_form.about_me }}
               <span class="help-inline">{{ user_profile_form.about_me.errors }}</span>
           </div>
       </div>
    {% else %}
       <div class="control-group">
           <label class="control-label" for="id_about_me">About me</label>
           <div class="controls">
               {{ user_profile_form.about_me }}
           </div>
       </div>
    {% endif %}
    </fieldset>
    </div>
    </form>
    </div>
    <div class="row-fluid">
    <h2>Preview</h2>
    <div class="span1">
        <iframe id="frame" src="{{ object.get_profile.get_absolute_url }}"></iframe>
    </div>
    </div>
{% endblock %}